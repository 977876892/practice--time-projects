<div class="container-fluid page-scroll my-report">
  <div class="mt-3">
    <section style="   display: flex;    justify-content: space-between;">
      <h4 class=""> Report Generation Status</h4>
      <div>
      <button type="button" *ngIf="reportStatusList.length>0" class="btn btn-sm btn-primary ml-2" (click)="clearallpopup()">Clear All</button>
      <button
        style="margin-bottom: 5px;background-color: #ea1f1f;border-color: #d20909;font-size: 1.2rem; padding: .1rem 0.31rem;"
        type="button" class="btn btn-sm btn-primary ml-2" matTooltip="Download Report">
        <i class="far fa-window-close" (click)="close()"></i>
      </button>
    </div>
    </section>

    <div class="analyze-sb table-ofh table-responsive fix-header">
      <table class="table table-bordered table-striped font14">
        <thead>
          <th>Sr.no</th>
          <th>Report</th>
          <th>Created At</th>
          <th>Status</th>
          <th>Action</th>
        </thead>
        <tbody>
          <tr *ngFor="let report of reportStatusList; let i=index">
            <td>{{ ((paginationData.pageIndex - 1 ) * paginationData.pageSize)  + i + 1 }}</td>
            <td>{{report.fileName}}</td>
            <td>{{reportService.dateAndTime2(report.createdAt)}}</td>
            <td>{{report.status}}</td>
            <td>
              <a *ngIf="report.status.toLowerCase() == 'completed'" [href]="common.downloadAttachmentData(report)" download>
                <button type="button" class="btn btn-sm btn-primary ml-2" matTooltip="Download Report">
                  <i class="fa fa-download"></i>
                </button>
              </a>
            </td>
          </tr>
          <tr *ngIf="reportStatusList.length == 0">
            <td colspan="5" style="text-align: center;">No Data Available</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Paginator -->
    <div class="container-fluid page-scroll whitebg">
      <div class="pb-3">
        <mat-paginator (page)="paginatorClicked($event)" [length]="paginationData.totalRecord"
          [pageSize]="paginationData.pageSize" [pageSizeOptions]="[10]"></mat-paginator>
      </div>
    </div>

  </div>
</div>


<ng-template #modalContent1 let-close="close">
  <div class="modal-header dialog-header p-2">
    <span class="dialog-header-txt">Please confirm..</span>
    <i class="dialog-closex fas fa-times" (click)="close()"> </i>
  </div>
  <div class="modal-body" style="padding-top: 5px;padding-bottom: 0px;">
    Are you sure you want to clear all?
  </div>
    <div class="modal-footer" style="border-radius: 0px 0 5px 5px; position: relative;">
      <button mat-flat-button class="mr-2" color="primary" (click)="clearall()">Yes</button>
      <button mat-flat-button color="warn" (click)="close()">No</button>
    </div>
</ng-template>